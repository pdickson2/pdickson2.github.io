<head><meta charset="utf-8" /><script src=https://cdn.plot.ly/plotly-1.34.0.min.js></script></head><div id="eed7ad8f-a050-4030-9ca1-3a42983f3b0b" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("eed7ad8f-a050-4030-9ca1-3a42983f3b0b", [{"customdata": ["HD01_VD01"], "hoverinfo": "all", "ids": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297], "line": {"dash": "solid", "width": 1}, "marker": {"color": "rgb(142, 186, 217)", "colorbar": {"len": 0.8}, "colorscale": "Greys", "line": {"color": "rgb(31, 119, 180)", "width": 1}, "reversescale": false, "showscale": false, "size": 10, "symbol": 0}, "mode": "markers", "name": "Distance From CBD as Gross Median Rent", "opacity": 1.0, "text": [], "x": [800, 586, 774, 773, 943, 1192, 861, 775, 986, 861, 753, 773, 825, 813, 913, 848, 756, 744, 1078, 1178, 780, 813, 1045, 805, 671, 738, 771, 997, 771, 1095, 988, 871, 1353, 628, 944, 866, 855, 737, 965, 919, 874, 712, 814, 830, 846, 715, 891, 967, 707, 771, 725, 842, 775, 960, 995, 818, 861, 851, 821, 969, 921, 779, 794, 713, 1060, 678, 732, 786, 848, 861, 812, 798, 491, 502, 745, 881, 851, 832, 777, 840, 682, 795, 858, 902, 741, 962, 946, 766, 856, 1083, 991, 1359, 881, 1112, 667, 901, 1003, 1104, 833, 1136, 894, 1009, 707, 847, 923, 820, 1103, 1183, 780, 835, 914, 780, 886, 852, 786, 726, 886, 1034, 827, 797, 1040, 372, 613, 675, 734, 722, 735, 920, 883, 871, 871, 847, 946, 1122, 785, 866, 793, 942, 1233, 851, 831, 1120, 832, 876, 750, 841, 1669, 800, 855, 855, 566, 676, 707, 1093, 934, 793, 714, 748, 937, 748, 759, 952, 814, 632, 753, 734, 765, 757, 909, 945, 795, 778, 827, 718, 875, 851, 903, 1064, 622, 962, 922, 1027, 942, 721, 968, 663, 937, 861, 875, 835, 800, 1010, 891, 864, 766, 906, 738, 706, 1163, 1205, 1111, 900, 1004, 1515, 786, 872, 981, 847, 695, 847, 1133, 831, 799, 839, 864, 851, 759, 758, 1278, 1186, 929, 923, 788, 851, 736, 907, 786, 823, 746, 594, 1468, 676, 1109, 821, 855, 760, 736, 779, 883, 946, 694, 1218, 511, 1627, 740, 795, 861, 1257, 953, 891, 825, 872, 828, 720, 765, 844, 773, 764, 754, 869, 863, 892, 843, 1047, 716, 880, 726, 860, 973, 1264, 892, 815, 1073, 624, 931, 753, 754, 1025, 963, 677, 801, 828, 782, 754, 765, 852, 779, 1583, 641, 1035, 826, 787, 629, 835], "y": [0.047872635130691205, 0.046426606066992504, 0.05067335853841811, 0.04998284770873893, 0.16832842739492063, 0.1846469057696243, 0.15919837356360328, 0.14688460886137156, 0.10586863538742235, 0.0766287318232798, 0.12536182295953394, 0.044030719122031596, 0.03549699712532771, 0.03562062240853676, 0.07073735756137028, 0.027944008202549532, 0.04278653648299853, 0.06584696770744998, 0.06934767697139275, 0.15505632259901928, 0.10497046893974621, 0.10383619176676644, 0.17840810718470831, 0.14359132970544902, 0.02890746447912921, 0.031284981830404124, 0.046362121499230004, 0.1284929083608255, 0.18348285219780947, 0.18506987645623604, 0.10442052613796635, 0.04210230054431041, 0.049114059236319556, 0.03528970917226307, 0.048026261223862096, 0.16745733065224397, 0.12242408818777406, 0.12343756919746618, 0.09383983064610904, 0.11605906234534132, 0.09247420689436106, 0.055251298067288464, 0.08760204337830081, 0.1004451437256831, 0.012535853775784488, 0.02261962006690447, 0.04064328869150769, 0.058354975609075356, 0.11067170616876439, 0.06405555783492267, 0.09375517579700081, 0.10053675698679654, 0.03600049426398618, 0.12254065373221269, 0.15439334251237416, 0.11494905977409757, 0.06234965524198719, 0.08176512839197227, 0.12079363046040299, 0.06412732856096465, 0.14801154299760313, 0.04264828373804348, 0.02617891898944189, 0.04105660449565156, 0.08639788575804003, 0.11522538145051117, 0.14025048105608, 0.10892979715413176, 0.11284300673452866, 0.07861366607873309, 0.06408022232571221, 0.0182389382601647, 0.021096685752551903, 0.029604851936623648, 0.12051869199925701, 0.08404097800812335, 0.12368426155889664, 0.08547641159009732, 0.07020453772193208, 0.08061309399376053, 0.03662094180095744, 0.1485671416553869, 0.09328055726572952, 0.125909246501492, 0.05249110719428124, 0.16913765225262042, 0.09672843321062485, 0.0573655597285149, 0.02543876504941394, 0.13190685547604192, 0.1582562733205162, 0.013319091134841256, 0.13808818642962642, 0.18341064075111232, 0.037548074135799886, 0.06243689693376785, 0.06526101764953106, 0.14676763313263022, 0.11409642774069419, 0.10210037872383049, 0.13056246475611, 0.12659556617792286, 0.12237219062588511, 0.08335678659129483, 0.10886711813536458, 0.1305412733768774, 0.13845665470407478, 0.17583442254699433, 0.09730908726685751, 0.08866926610570465, 0.04106573139292209, 0.11346082786143087, 0.1368177563323883, 0.08632523108689964, 0.12686490870908498, 0.054393098653326255, 0.08730804335690791, 0.10419463046863456, 0.0733887859325169, 0.05712946814106979, 0.19578744022961284, 0.025159271342670795, 0.024764191290134196, 0.03393526506113465, 0.016889769430961647, 0.030710593635182287, 0.045331136137590974, 0.04913899453867138, 0.048142538325725674, 0.09587354883580144, 0.0960731658620145, 0.05620874361535991, 0.05505945508584206, 0.0879058752917967, 0.05396740353661884, 0.028369733611250357, 0.030890690925290194, 0.016694075751857596, 0.020690812466636104, 0.0865363477338604, 0.1639152767377789, 0.10873342761337418, 0.06677279661461405, 0.11236080705074171, 0.054420576416566856, 0.04659571208872714, 0.05595958903683551, 0.038654882519836876, 0.044793746420942485, 0.07358751060863726, 0.038739242669674004, 0.023203867275156925, 0.010432401741519808, 0.027981910743623866, 0.07824427009485325, 0.060787245790264566, 0.020711949200027724, 0.10299237607036185, 0.08638170483009248, 0.07910605172942398, 0.0992192449235877, 0.11680948998610521, 0.12937755461711084, 0.08879772067675551, 0.023051679219844558, 0.05482635159776594, 0.056548577579414866, 0.03283163409646578, 0.03351495864504443, 0.04342023604011676, 0.05417587527597638, 0.025350662092073557, 0.0335386874649454, 0.03269873876787978, 0.041036448008288, 0.12516265398789234, 0.09775233441929931, 0.16302662223338282, 0.14608827051208118, 0.1370545230600302, 0.1172826442364444, 0.15444345673882867, 0.12507414097069033, 0.13213847508072746, 0.14010210721717936, 0.10803857639000464, 0.13101405574249234, 0.13262610556656412, 0.1752459732937558, 0.16280547252109906, 0.1544093082687652, 0.12700470257944235, 0.10306848896512182, 0.07976850762590247, 0.09654439651055245, 0.1552478281231596, 0.1028247114229373, 0.08610922489673141, 0.15333771394149473, 0.1525643026427318, 0.12075693206790583, 0.09935926652043128, 0.09720630261660561, 0.08086332620799712, 0.05707430042799415, 0.07662939202294099, 0.07043968885825463, 0.05874966865930908, 0.050536734707031405, 0.042192169973122855, 0.04974313604624635, 0.11456490823926484, 0.09494402664672806, 0.049215475419965446, 0.05127672002596617, 0.05401585057831993, 0.06821661371411387, 0.09181135217957004, 0.15011308883810667, 0.12800081698276358, 0.08502950079753707, 0.07896332356673208, 0.0672104637614966, 0.07060272165982406, 0.10303150681326198, 0.11462255168865507, 0.1349483398223842, 0.06901283231175157, 0.08005834034064617, 0.04556530223048067, 0.010217470842331603, 0.02951061970628912, 0.04328428370706439, 0.041884895804928664, 0.06030047316595491, 0.039512592429605135, 0.04648431080578191, 0.08750019904497146, 0.12887812232466345, 0.15245175762605748, 0.1268592339919341, 0.13594663885998035, 0.0432003868201616, 0.0, 0.034126170645652563, 0.07045011601132233, 0.10380822022066716, 0.0742073476633476, 0.09871226774853552, 0.1981798085204778, 0.13194422178399326, 0.0371200141056502, 0.04771595238033696, 0.055325143821938344, 0.14115535122406137, 0.10941273632112977, 0.05876963937034734, 0.09488957324949523, 0.11780198751036396, 0.04768518629466759, 0.0671245190897178, 0.04985611858062196, 0.09221725460567946, 0.1674613445710863, 0.07122975682259776, 0.030799649658887852, 0.03166821777989148, 0.025778370870152063, 0.06986902220753716, 0.06492025352713847, 0.08556591572189914, 0.1244266294912026, 0.08849907344451557, 0.045887305709786934, 0.09495265862447927, 0.14957758939263513, 0.06627236562427775, 0.08730826836329662, 0.04311911091982154, 0.03886775552880808, 0.1431889012397203, 0.1461744588017528, 0.07593104056254045, 0.11252818583251667, 0.0695523557216719, 0.2031626529461317, 0.04920230240026674, 0.1421379246438631, 0.04100700423708522, 0.040737958133960306, 0.07632519362960598, 0.05492627944208857, 0.03737274974113207, 0.06270056725857093], "type": "scatter", "uid": "714f0e1c-df38-11e9-9149-e4b97af7adc6"}], {"legend": {"orientation": "v"}, "showlegend": true, "title": "", "xaxis": {"autorange": true, "rangeslider": {"borderwidth": 1, "visible": false}, "title": "Gross Median Rent", "type": "linear"}, "yaxis": {"autorange": true, "title": "Distance from CBD", "type": "linear"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('eed7ad8f-a050-4030-9ca1-3a42983f3b0b')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>
