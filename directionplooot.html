<script src=https://cdn.plot.ly/plotly-1.34.0.min.js></script></head><div id="df138e18-f7b8-466a-9922-635c597ce17f" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("df138e18-f7b8-466a-9922-635c597ce17f", [{"line": {"color": "rgb(142, 186, 217)", "dash": "solid", "width": 1}, "marker": {"color": "rgb(142, 186, 217)", "line": {"color": "rgb(31, 119, 180)", "width": 1}, "size": 10, "symbol": 0}, "mode": "markers", "name": "HD01_VD12", "opacity": 1.0, "r": [100, 369, 1913, 3303, 226, 26, 300, 60, 242, 137, 184, 23, 214, 71, 176, 278, 2354, 1079, 337, 92, 454, 511, 212, 249, 69, 1276, 268, 2058, 205, 157, 498, 223, 116, 123, 226, 89, 133, 42, 343, 0, 47, 42, 228, 215, 63, 138, 2225, 159, 1333, 342, 1157, 770, 148, 88, 209, 375, 495, 468, 1132, 164, 68, 282, 2171, 2612, 2386, 84, 252, 133, 110, 21, 242, 25, 44, 100, 79, 482, 173, 334, 411, 92, 150, 2806, 60, 137, 139, 8, 47, 122, 55, 174, 415, 161, 233, 169, 158, 2918, 216, 82, 225, 0, 95, 456, 173, 290, 421, 448, 574, 581, 702, 255, 502, 59, 41, 186, 56, 190, 127, 58, 184, 19, 242, 452, 0, 54, 226, 249, 1611, 2578, 3899, 82, 564, 320, 1499, 1973, 245, 362, 17, 411, 115, 98, 65, 154, 13, 300, 172, 33, 38, 17, 321, 218, 12, 0, 189, 84, 161, 848, 45, 145, 358, 41, 30, 271, 236, 98, 261, 306, 28, 958, 2227, 2283, 1907, 403, 263, 2676, 3422, 8, 0, 0, 444, 487, 302, 97, 715, 725, 796, 354, 410, 563, 290, 220, 154, 149, 193, 294, 235, 35, 800, 460, 580, 763, 830, 190, 45, 102, 99, 206, 86, 212, 144, 35, 24, 51, 222, 22, 995, 969, 2318, 544, 504, 423, 1257, 131, 118, 207, 70, 60, 76, 90, 90, 338, 97, 509, 284, 230, 299, 319, 23, 1, 1902, 1732, 807, 533, 540, 179, 87, 688, 210, 3704, 1202, 574, 257, 102, 94, 293, 231, 33, 143, 0, 68, 16, 61, 88, 413, 70, 77, 634, 126, 470, 222, 1752, 500, 389, 97, 643, 178, 133, 356, 241, 144, 1254, 1017, 139, 60, 108, 399, 1223, 498, 706, 944, 129, 34, 2450, 58, 1182, 1772, 245, 61], "theta": [326.485, 317.179, 236.424, 197.432, 337.687, 319.304, 317.173, 329.665, 337.137, 341.447, 309.221, 15.723, 40.319, 34.629, 307.746, 36.761, 171.73, 193.79, 181.311, 308.987, 255.478, 240.138, 223.622, 156.453, 29.357, 149.98, 188.313, 166.308, 223.218, 341.021, 329.354, 268.25, 31.405, 47.483, 30.847, 356.555, 312.531, 339.185, 331.926, 339.866, 326.073, 327.886, 11.226, 323.242, 311.678, 66.362, 144.807, 148.7, 198.666, 228.103, 183.256, 141.862, 154.059, 24.211, 198.693, 178.563, 156.469, 157.134, 173.576, 358.988, 24.083, 293.289, 207.757, 152.464, 182.115, 282.224, 260.176, 244.514, 234.908, 337.93, 330.507, 334.359, 55.099, 33.956, 10.868, 254.756, 334.886, 269.458, 316.211, 296.618, 311.07, 169.323, 342.661, 346.459, 300.934, 349.559, 320.97, 331.13, 341.445, 50.002, 231.02, 228.573, 55.883, 160.626, 204.071, 181.39, 164.869, 29.767, 274.479, 298.321, 277.015, 262.378, 239.379, 249.416, 208.299, 193.599, 206.325, 173.709, 169.546, 141.149, 148.249, 349.623, 346.322, 325.609, 351.72, 353.4, 281.6, 345.225, 332.679, 354.444, 21.269, 197.234, 61.875, 28.149, 23.564, 347.697, 129.684, 165.003, 200.384, 134.144, 160.48, 230.13, 218.233, 171.668, 137.82, 183.72, 336.152, 42.748, 52.945, 51.092, 41.962, 273.737, 13.82, 346.427, 4.502, 351.852, 305.748, 354.757, 31.608, 43.762, 15.384, 2.062, 316.113, 346.181, 40.051, 114.616, 59.72, 303.174, 316.426, 57.128, 344.84, 1.71, 0.398, 341.856, 330.671, 319.849, 337.543, 141.474, 216.987, 206.526, 159.359, 144.156, 140.989, 227.555, 155.184, 15.18, 8.64, 358.917, 214.981, 194.797, 221.658, 212.664, 194.286, 171.998, 163.18, 150.833, 156.316, 153.591, 147.823, 334.754, 323.087, 323.368, 329.735, 323.529, 346.137, 352.607, 247.832, 253.95, 245.968, 245.016, 233.496, 235.373, 300.97, 293.34, 301.87, 287.504, 21.209, 33.029, 322.389, 327.792, 355.397, 10.209, 23.686, 37.497, 222.966, 209.843, 173.289, 154.567, 147.509, 169.939, 169.07, 9.659, 9.632, 6.173, 346.994, 3.117, 337.919, 319.144, 310.758, 306.071, 281.392, 264.486, 307.855, 62.372, 5.516, 42.233, 8.099, 328.734, 163.486, 184.756, 223.052, 234.939, 351.02, 159.615, 283.516, 253.094, 87.394, 181.84, 212.424, 189.203, 17.942, 295.796, 212.669, 314.074, 47.53, 346.727, 303.996, 328.206, 324.222, 3.742, 351.985, 314.847, 21.571, 321.878, 333.171, 266.205, 209.827, 137.056, 56.595, 182.863, 128.28, 158.343, 36.781, 247.485, 244.222, 13.511, 287.089, 306.884, 265.085, 233.041, 198.009, 52.546, 331.094, 336.4, 255.646, 181.201, 214.709, 147.543, 331.494, 5.333, 0.51, 218.396, 134.741, 203.036, 183.974, 315.285, 346.028], "type": "scatterpolar", "uid": "a75071b8-1ba6-11ea-8aa6-e4b97af7adc6"}], {"legend": {"orientation": "v"}, "polar": {"angularaxis": {"direction": "clockwise"}}, "showlegend": true, "title": "Polar Plot Direction from City Center and Hispanic Population", "xaxis": {"autorange": true, "title": "dirCBD", "type": "linear"}, "yaxis": {"autorange": true, "title": "HD01_VD12", "type": "linear"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('df138e18-f7b8-466a-9922-635c597ce17f')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>
