<script src=https://cdn.plot.ly/plotly-1.34.0.min.js></script><script src="file:///C:/Users/pdickson/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\DataPlotly\jsscripts/plotly-1.34.0.min.js"></script></head><div id="465f0ccf-001f-464e-ae91-b6526e3ca15a" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("465f0ccf-001f-464e-ae91-b6526e3ca15a", [{"line": {"color": "Black", "width": 1}, "marker": {"color": "Black", "line": {"width": 1}, "size": 10}, "mode": "markers", "r": [100, 369, 1913, 3303, 226, 26, 300, 60, 242, 137, 184, 23, 214, 71, 176, 278, 2354, 1079, 337, 92, 454, 511, 212, 249, 69, 1276, 268, 2058, 205, 157, 498, 223, 116, 123, 226, 89, 133, 42, 343, 0, 47, 42, 228, 215, 63, 138, 2225, 159, 1333, 342, 1157, 770, 148, 88, 209, 375, 495, 468, 1132, 164, 68, 282, 2171, 2612, 2386, 84, 252, 133, 110, 21, 242, 25, 44, 100, 79, 482, 173, 334, 411, 92, 150, 2806, 60, 137, 139, 8, 47, 122, 55, 174, 415, 161, 233, 169, 158, 2918, 216, 82, 225, 0, 95, 456, 173, 290, 421, 448, 574, 581, 702, 255, 502, 59, 41, 186, 56, 190, 127, 58, 184, 19, 242, 452, 0, 54, 226, 249, 1611, 2578, 3899, 82, 564, 320, 1499, 1973, 245, 362, 17, 411, 115, 98, 65, 154, 13, 300, 172, 33, 38, 17, 321, 218, 12, 0, 189, 84, 161, 848, 45, 145, 358, 41, 30, 271, 236, 98, 261, 306, 28, 958, 2227, 2283, 1907, 403, 263, 2676, 3422, 8, 0, 0, 444, 487, 302, 97, 715, 725, 796, 354, 410, 563, 290, 220, 154, 149, 193, 294, 235, 35, 800, 460, 580, 763, 830, 190, 45, 102, 99, 206, 86, 212, 144, 35, 24, 51, 222, 22, 995, 969, 2318, 544, 504, 423, 1257, 131, 118, 207, 70, 60, 76, 90, 90, 338, 97, 509, 284, 230, 299, 319, 23, 1, 1902, 1732, 807, 533, 540, 179, 87, 688, 210, 3704, 1202, 574, 257, 102, 94, 293, 231, 33, 143, 0, 68, 16, 61, 88, 413, 70, 77, 634, 126, 470, 222, 1752, 500, 389, 97, 643, 178, 133, 356, 241, 144, 1254, 1017, 139, 60, 108, 399, 1223, 498, 706, 944, 129, 34, 2450, 58, 1182, 1772, 245, 61], "theta": [100, 369, 1913, 3303, 226, 26, 300, 60, 242, 137, 184, 23, 214, 71, 176, 278, 2354, 1079, 337, 92, 454, 511, 212, 249, 69, 1276, 268, 2058, 205, 157, 498, 223, 116, 123, 226, 89, 133, 42, 343, 0, 47, 42, 228, 215, 63, 138, 2225, 159, 1333, 342, 1157, 770, 148, 88, 209, 375, 495, 468, 1132, 164, 68, 282, 2171, 2612, 2386, 84, 252, 133, 110, 21, 242, 25, 44, 100, 79, 482, 173, 334, 411, 92, 150, 2806, 60, 137, 139, 8, 47, 122, 55, 174, 415, 161, 233, 169, 158, 2918, 216, 82, 225, 0, 95, 456, 173, 290, 421, 448, 574, 581, 702, 255, 502, 59, 41, 186, 56, 190, 127, 58, 184, 19, 242, 452, 0, 54, 226, 249, 1611, 2578, 3899, 82, 564, 320, 1499, 1973, 245, 362, 17, 411, 115, 98, 65, 154, 13, 300, 172, 33, 38, 17, 321, 218, 12, 0, 189, 84, 161, 848, 45, 145, 358, 41, 30, 271, 236, 98, 261, 306, 28, 958, 2227, 2283, 1907, 403, 263, 2676, 3422, 8, 0, 0, 444, 487, 302, 97, 715, 725, 796, 354, 410, 563, 290, 220, 154, 149, 193, 294, 235, 35, 800, 460, 580, 763, 830, 190, 45, 102, 99, 206, 86, 212, 144, 35, 24, 51, 222, 22, 995, 969, 2318, 544, 504, 423, 1257, 131, 118, 207, 70, 60, 76, 90, 90, 338, 97, 509, 284, 230, 299, 319, 23, 1, 1902, 1732, 807, 533, 540, 179, 87, 688, 210, 3704, 1202, 574, 257, 102, 94, 293, 231, 33, 143, 0, 68, 16, 61, 88, 413, 70, 77, 634, 126, 470, 222, 1752, 500, 389, 97, 643, 178, 133, 356, 241, 144, 1254, 1017, 139, 60, 108, 399, 1223, 498, 706, 944, 129, 34, 2450, 58, 1182, 1772, 245, 61], "type": "scatterpolar", "uid": "354a074a-1ba5-11ea-98b0-e4b97af7adc6"}], {"legend": {"orientation": "h"}, "polar": {"angularaxis": {"direction": "clockwise"}}, "showlegend": true, "title": "Polar Plot Direction and Hispanic Population", "xaxis": {"title": "HD01_VD12"}, "yaxis": {"title": "HD01_VD12"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('465f0ccf-001f-464e-ae91-b6526e3ca15a')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>