<head><meta charset="utf-8" /><script src=https://cdn.plot.ly/plotly-1.34.0.min.js"></script></head><div id="b9ff2b57-b2e5-46e9-a8f8-61c608f7209d" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("b9ff2b57-b2e5-46e9-a8f8-61c608f7209d", [{"customdata": ["HD01_VD01"], "hoverinfo": "all", "ids": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296], "line": {"dash": "solid", "width": 1}, "marker": {"color": "rgb(142, 186, 217)", "colorbar": {"len": 0.8}, "colorscale": "Greys", "line": {"color": "rgb(31, 119, 180)", "width": 1}, "reversescale": false, "showscale": false, "size": 10, "symbol": 0}, "mode": "markers", "name": "", "opacity": 1.0, "text": [], "x": [800, 586, 774, 773, 943, 1192, 861, 775, 986, 861, 753, 773, 825, 813, 913, 848, 756, 744, 1078, 1178, 780, 813, 1045, 805, 671, 738, 771, 997, 771, 1095, 988, 871, 1353, 628, 944, 866, 855, 737, 965, 919, 874, 712, 814, 830, 846, 715, 891, 967, 707, 771, 725, 842, 775, 960, 995, 818, 861, 851, 821, 969, 921, 779, 794, 713, 1060, 678, 732, 786, 848, 861, 812, 798, 491, 502, 745, 881, 851, 832, 777, 840, 682, 795, 858, 902, 741, 962, 946, 766, 856, 1083, 991, 1359, 881, 1112, 667, 901, 1003, 1104, 833, 1136, 894, 1009, 707, 847, 923, 820, 1103, 1183, 780, 835, 914, 780, 886, 852, 786, 726, 886, 1034, 827, 797, 1040, 372, 613, 675, 734, 722, 735, 920, 883, 871, 871, 847, 946, 1122, 785, 866, 793, 942, 1233, 851, 831, 1120, 832, 876, 750, 841, 1669, 800, 855, 855, 566, 676, 707, 1093, 934, 793, 714, 748, 937, 748, 759, 952, 814, 632, 753, 734, 765, 757, 909, 945, 795, 778, 827, 718, 875, 851, 903, 1064, 622, 962, 922, 1027, 942, 721, 968, 663, 937, 861, 875, 835, 800, 1010, 891, 864, 766, 906, 738, 706, 1163, 1205, 1111, 900, 1004, 1515, 786, 872, 981, 847, 695, 847, 1133, 831, 799, 839, 864, 851, 759, 758, 1278, 1186, 929, 923, 788, 851, 736, 907, 786, 823, 746, 594, 1468, 676, 1109, 821, 855, 760, 736, 779, 883, 946, 694, 1218, 511, 1627, 740, 795, 861, 1257, 953, 891, 825, 872, 828, 720, 765, 844, 773, 764, 754, 869, 863, 892, 843, 1047, 716, 880, 726, 860, 973, 1264, 892, 815, 1073, 624, 931, 753, 754, 1025, 963, 677, 801, 828, 782, 754, 765, 852, 779, 1583, 641, 1035, 826, 787, 629, 835], "y": [0.023, 0.02, 0.023, 0.03, 0.153, 0.162, 0.136, 0.128, 0.089, 0.06, 0.1, 0.046, 0.053, 0.05, 0.044, 0.041, 0.036, 0.05, 0.061, 0.13, 0.076, 0.076, 0.154, 0.155, 0.037, 0.038, 0.045, 0.104, 0.17, 0.166, 0.075, 0.055, 0.071, 0.047, 0.037, 0.143, 0.107, 0.105, 0.078, 0.095, 0.071, 0.056, 0.065, 0.075, 0.038, 0.013, 0.051, 0.039, 0.085, 0.054, 0.112, 0.113, 0.043, 0.107, 0.152, 0.126, 0.07, 0.08, 0.117, 0.075, 0.12, 0.018, 0.026, 0.026, 0.058, 0.086, 0.112, 0.082, 0.097, 0.058, 0.044, 0.04, 0.024, 0.018, 0.092, 0.065, 0.094, 0.061, 0.042, 0.055, 0.029, 0.135, 0.081, 0.099, 0.038, 0.147, 0.077, 0.039, 0.046, 0.106, 0.132, 0.021, 0.147, 0.166, 0.022, 0.065, 0.08, 0.118, 0.087, 0.073, 0.101, 0.099, 0.094, 0.062, 0.095, 0.111, 0.139, 0.18, 0.116, 0.104, 0.023, 0.102, 0.116, 0.077, 0.12, 0.025, 0.074, 0.085, 0.065, 0.066, 0.182, 0.028, 0.013, 0.011, 0.03, 0.022, 0.023, 0.069, 0.052, 0.069, 0.072, 0.053, 0.074, 0.079, 0.033, 0.046, 0.054, 0.035, 0.034, 0.057, 0.153, 0.109, 0.056, 0.086, 0.043, 0.061, 0.077, 0.039, 0.036, 0.049, 0.018, 0.009, 0.025, 0.053, 0.051, 0.035, 0.044, 0.09, 0.083, 0.075, 0.084, 0.097, 0.106, 0.071, 0.031, 0.03, 0.034, 0.032, 0.046, 0.059, 0.027, 0.017, 0.031, 0.023, 0.029, 0.103, 0.083, 0.139, 0.125, 0.124, 0.118, 0.162, 0.14, 0.144, 0.153, 0.124, 0.114, 0.111, 0.154, 0.144, 0.133, 0.115, 0.095, 0.051, 0.068, 0.127, 0.075, 0.059, 0.126, 0.126, 0.093, 0.072, 0.069, 0.091, 0.073, 0.053, 0.048, 0.049, 0.05, 0.05, 0.068, 0.09, 0.074, 0.043, 0.06, 0.067, 0.068, 0.094, 0.155, 0.132, 0.085, 0.066, 0.064, 0.052, 0.079, 0.089, 0.109, 0.04, 0.051, 0.018, 0.031, 0.011, 0.063, 0.037, 0.038, 0.038, 0.032, 0.062, 0.102, 0.145, 0.136, 0.107, 0.014, 0.029, 0.016, 0.047, 0.093, 0.082, 0.071, 0.177, 0.107, 0.059, 0.031, 0.028, 0.121, 0.087, 0.055, 0.086, 0.093, 0.055, 0.043, 0.028, 0.063, 0.147, 0.091, 0.055, 0.01, 0.045, 0.078, 0.083, 0.057, 0.096, 0.094, 0.017, 0.069, 0.12, 0.039, 0.071, 0.067, 0.014, 0.127, 0.117, 0.068, 0.09, 0.084, 0.185, 0.045, 0.14, 0.014, 0.06, 0.057, 0.043, 0.01, 0.048], "type": "scatter", "uid": "4a8edf36-df48-11e9-b6a1-e4b97af7adc6"}], {"legend": {"orientation": "v"}, "showlegend": true, "title": "Median Gross  Rent by Distance from City Center", "xaxis": {"autorange": true, "rangeslider": {"borderwidth": 1, "visible": false}, "title": "Median Gross Rent", "type": "linear"}, "yaxis": {"autorange": true, "title": "Distance", "type": "linear"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('b9ff2b57-b2e5-46e9-a8f8-61c608f7209d')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>